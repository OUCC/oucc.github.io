---
import Section from '@/components/common/Section.astro'
import WorkshopCard from './WorkshopCard.astro'

export interface Item {
  date: Date
  title: string
  description: string
  place?: string
}

export function date(
  month: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12,
  date: number,
  hour?: number,
  minute?: number,
) {
  return hour === undefined
    ? new Date(2024, month - 1, date)
    : minute === undefined
      ? new Date(2024, month - 1, date, hour)
      : new Date(2024, month - 1, date, hour, minute)
}

export const items: Item[] = [
  {
    date: date(4, 11, 18, 30),
    title: 'Python',
    description: 'Pythonの基礎を学びます。',
    place: 'C406',
  },
  {
    date: date(4, 13, 14),
    title: '機械学習',
    description: '機械学習について学びます。',
    place: 'オンラインのみ',
  },
  {
    date: date(4, 14, 14),
    title: 'C/C++',
    description: 'C言語とC++の基礎を学びます。',
    place: 'オンラインのみ',
  },
  {
    date: date(4, 18, 18, 30),
    title: '競プロ',
    description: '競技プログラミングについて学びます。',
    place: 'C406',
  },
  {
    date: date(4, 20, 14),
    title: 'Blender',
    description: 'Blenderを用いた3Dモデリングについて学びます。',
    place: 'オンラインのみ',
  },
  {
    date: date(4, 21, 14),
    title: 'Git',
    description:
      'ソースコードの編集履歴管理システムであるGitの基礎を学びます。共同開発に役立ちます。',
    place: 'オンラインのみ',
  },
  {
    date: date(4, 25, 18, 30),
    title: 'C#',
    description: 'C#の基礎を学びます。C#はUnityでも使用されています。',
    place: 'C406',
  },
  {
    date: date(4, 27, 14),
    title: 'Unity (1日目)',
    description: 'Unityを用いたゲーム制作を学びます。',
    place: 'オンラインのみ',
  },
  {
    date: date(4, 28, 14),
    title: 'Unity (2日目)',
    description:
      'Unityを用いたゲーム制作を学びます。前日のUnity講習会を講習会を受講された方を対象としています。',
    place: 'オンラインのみ',
  },
  {
    date: date(5, 9, 18, 30),
    title: 'Linux(Bash)',
    description:
      'サーバや組み込み用途で広く利用されているOSであるLinuxについて学びます。',
    place: 'C301',
  },
  {
    date: date(5, 11, 14),
    title: 'Markdown/HTML',
    description: 'ドキュメントの作成するに役立つMarkdownに付いて勉強します。',
    place: 'C301',
  },
  {
    date: date(5, 12, 14),
    title: 'HTML/CSS',
    description: 'HTML/CSSを用いた基本的なWebサイトの制作について学びます。',
    place: 'オンラインのみ',
  },
  {
    date: date(5, 16, 18, 30),
    title: 'TypeScript',
    description:
      '最近のWebサービス開発でよく使われているTypeScriptについて学びます。',
    place: 'C301',
  },
  {
    date: date(5, 18, 14),
    title: 'Astro',
    description:
      '静的サイトを作成するツールであるAstroについて学びます。このサイトもこれを用いて作成されています。',
    place: 'C301',
  },
  {
    date: date(5, 19, 14),
    title: 'クラウド',
    description: 'クラウドサービスについて学びます。',
    place: 'オンラインのみ',
  },
]

const dateFormat = new Intl.DateTimeFormat('ja-JP', {
  weekday: 'short',
  month: 'numeric',
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit',
})
---

<Section background="secondary">
  <Fragment slot="title">2024年度の講習会</Fragment>
  <div class="flex flex-col gap-5">
    <p>
      2024年度の講習会は原則オンラインと対面のハイブリッドで実施します。参加方法について詳しくは、画面右上の「Join
      OUCC!」ボタンから公開Discordサーバーにご参加のうえご確認ください。
    </p>
    <p>各回1～3時間程度の予定となっています。途中退室も可能です。</p>
    <ul class="flex flex-wrap gap-5">
      {
        items.map(({ date, ...item }) => (
          <WorkshopCard {...item} date={dateFormat.format(date)} />
        ))
      }
    </ul>
  </div>
</Section>
