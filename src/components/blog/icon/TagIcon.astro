---
import type { CollectionEntry } from 'astro:content'
import DefaultImage from '@/assets/hashtag.svg'
import { Image } from 'astro:assets'

interface Props {
  tag: CollectionEntry<'tags'>['data']
  size: number
}

const { tag, size } = Astro.props
---

{
  tag.image ? (
    tag.image.format === 'svg' ? (
      <Image
        src={tag.image}
        alt={`${tag.name} のアイコン`}
        class:list={[
          'aspect-square',
          {
            'rounded-full': tag.fullSizeImage,
          },
        ]}
        width={size}
        height={size}
      />
    ) : (
      <Image
        src={tag.image}
        alt={`${tag.name} のアイコン`}
        layout="responsive"
        class:list={[
          'aspect-square',
          {
            'rounded-full': tag.fullSizeImage,
          },
        ]}
        width={size}
        height={size}
      />
    )
  ) : (
    <DefaultImage
      role="img"
      aria-label={`${tag.name} のアイコン`}
      class="aspect-square"
      size={size}
    />
  )
}
