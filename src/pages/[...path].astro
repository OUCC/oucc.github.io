---
// 旧ウェブサイトでよくアクセスされていたURLにリダイレクトを設定する

export function getStaticPaths() {
  if (Astro.site === undefined) {
    throw new Error(
      'ウェブサイトのURLが設定されていません。astro.config.tsで指定してください。',
    )
  }

  const pages = [
    ['about.html', '/'],
    ['access.html', '/'],
    ['activity.html', '/activity/'],
    ['contact.html', '/contact/'],
    ['join.html', '/join/'],
    ['link.html', '/'],
    ['member.html', '/'],
    ['part.html', '/'],
    ['welcomeevent.html', '/'],
    ['group/programming', '/'],
    ['group/programming/about.html', '/'],
    ['group/programming/activity.html', '/'],
    ['group/programming/works.html', '/'],
    ['group/handaitaisen/handai_taisen.html', '/'],
  ] as const

  return pages.map(([from, to]) => ({
    params: { path: from },
    props: { destination: new URL(to, Astro.site) },
  }))
}

interface Props {
  destination: URL
}

const { destination } = Astro.props
---

<!DOCTYPE html>
<meta charset="UTF-8" />
<meta http-equiv="refresh" content={`0;url=${destination.toString()}`} />
